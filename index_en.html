<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hiroki Kamiya - Portfolio</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            margin: 0;
            padding: 0;
            position: relative;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: auto;
            overflow: hidden;
            padding: 20px;
        }

        /* Language switcher */
        .language-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1100;
            display: flex;
            gap: 10px;
        }

        .lang-btn {
            background: rgba(171, 183, 196, 0.9);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .lang-btn:hover {
            background: rgb(175, 189, 206);
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .lang-btn.active {
            background: rgba(51, 109, 175, 0.8);
        }

        header {
            background-color: rgba(252, 252, 230, 0.7);
            padding: 4rem 2rem;
            text-align: center;
        }

        .hero {
            background: rgba(60, 91, 127, 0.8);
            padding: 3rem 2rem;
            text-align: center;
            color: white;
        }

        .section {
            color: rgb(59, 59, 59); 
            padding: 2rem 1rem;
            text-align: center;
        }

        .projects {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 0.48fr));
            grid-gap: 1.5rem;
            padding: 2rem 0;    
        }

        .project {
            cursor: pointer;
            background: rgba(252, 252, 230, 0.7);
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .project:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .project h3 {
            color: rgb(60, 91, 127);
            margin-bottom: 1rem;
        }

        .project p {
            color: rgb(60, 91, 127);
            font-size: 0.9rem;
        }

        /* 画像と動画の共通スタイル */
        .project img, .project video {
            width: 100%;
            height: 220px;
            object-fit: cover;
            border-radius: 4px;
            margin-bottom: 1rem;
            transition: transform 0.3s ease;
        }

        /* 動画専用のスタイル */
        .project video {
            background: #000;
        }

        .project:hover video {
            transform: scale(1.05);
        }

        /* メディア要素のコンテナ */
        .media-container {
            position: relative;
            width: 100%;
            height: 220px;
            margin-bottom: 1rem;
            border-radius: 4px;
            overflow: hidden;
        }

        .media-container img,
        .media-container video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            margin: 0;
        }

        /* 動画再生コントロール */
        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .project:hover .video-overlay {
            opacity: 1;
        }

        .play-icon {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: rgb(60, 91, 127);
        }

        /* プロジェクトタイプ表示 */
        .project-type {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(60, 91, 127, 0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .skills {
            background: rgba(60, 91, 127, 0.8);
            color: #fff;
            padding: 3rem 2rem;
            text-align: center;
        }

        .contact {
            padding: 3rem 2rem;
            text-align: center;
        }

        footer {
            background: rgba(60, 91, 127, 0.8);
            color: #fff;
            text-align: center;
            padding: 2rem;
        }

        .lines {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                linear-gradient(to right, rgba(121, 182, 252, 0.8) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(121, 182, 252, 0.8) 1px, transparent 1px);
            background-size: 30px 30px;
            z-index: -1;
            pointer-events: none;
        }

        .icon {
            width: auto;
            height: 350px;
            max-width: 100%;
        }

        /* スキルバー */
        .skill-bar {
            background-color: #ddd;
            height: 25px;
            margin-bottom: 15px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .skill-progress {
            background: linear-gradient(90deg,  rgba(56, 148, 105, 0.6),  rgba(54, 177, 119, 0.6));
            height: 100%;
            width: 0;
            transition: width 1.5s ease-out;
            border-radius: 15px;
            display: flex;
            align-items: center;
            padding-left: 15px;
            font-weight: bold;
            color: white;
            font-size: 0.9rem;
        }

        /* モーダル */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            animation: fadeIn 0.3s ease-out;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 0;
            border-radius: 10px;
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideIn 0.3s ease-out;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .modal-header {
            background: linear-gradient(135deg, rgb(60, 91, 127), rgb(80, 111, 147));
            color: white;
            padding: 2rem;
            border-radius: 10px 10px 0 0;
            position: relative;
        }

        .modal-body {
            padding: 2rem;
            line-height: 1.8;
        }

        .close {
            color: white;
            float: right;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            transition: opacity 0.3s;
        }

        .close:hover {
            opacity: 0.7;
        }

        .modal-image, .modal-video {
            width: 100%;
            max-height: 600px;
            object-fit: cover;
            border-radius: 8px;
            margin: 1rem 0;
        }

        /* アニメーション */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to { 
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            opacity: 0;
            transition: opacity 1s ease-out;
        }

        .slide-in {
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .fade-in.visible, .slide-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* レスポンシブデザイン */
        @media (max-width: 768px) {
            .container {
                width: 95%;
                padding: 10px;
            }

            header {
                padding: 2rem 1rem;
            }

            .hero {
                padding: 2rem 1rem;
            }

            .icon {
                height: 200px;
            }

            .projects {
                grid-template-columns: 1fr;
                grid-gap: 1rem;
            }

            .project {
                padding: 1rem;
            }

            .media-container {
                height: 180px;
            }

            .project img, .project video {
                height: 180px;
            }

            .modal-content {
                margin: 10% auto;
                width: 95%;
                max-height: 80vh;
            }

            .modal-header {
                padding: 1.5rem;
            }

            .modal-body {
                padding: 1.5rem;
            }

            .section {
                padding: 1.5rem 0.5rem;
            }

            .skills {
                padding: 2rem 1rem;
            }

            h1 {
                font-size: 1.8rem;
            }

            h2 {
                font-size: 1.5rem;
            }

            .language-switcher {
                top: 10px;
                right: 10px;
            }

            .lang-btn {
                padding: 6px 12px;
                font-size: 0.8rem;
            }
        }

        @media (max-width: 480px) {
            .modal-content {
                margin: 5% auto;
                width: 98%;
            }

            .close {
                font-size: 1.5rem;
                top: 0.8rem;
                right: 1rem;
            }

            .media-container {
                height: 160px;
            }

            .project img, .project video {
                height: 160px;
            }
        }

        /* タッチデバイス用の改善 */
        @media (hover: none) {
            .project:hover {
                transform: none;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }

            .project:active {
                transform: scale(0.98);
            }

            .video-overlay {
                opacity: 1;
            }
        }

        /* 動画読み込み中のスタイル */
        .loading-placeholder {
            width: 100%;
            height: 200px;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 0.9rem;
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
    </style>
</head>
<body>
    <div class="lines"></div>

    <!-- Language Switcher -->
    <div class="language-switcher">
        <button class="lang-btn" onclick="switchToJapanese()">日本語</button>
        <button class="lang-btn active" onclick="switchToEnglish()">English</button>
    </div>

    <header>
        <img src="img/MyLogo4.png" alt="Hiroki Kamiya Logo" class="icon fade-in">
        <p>Design Engineer / Architecture, Mechanics Simulation</p>
    </header>

    <div class="section hero slide-in">
        <h2>About Me</h2>
        <p>I am currently a graduate student at the University of Tokyo, affiliated with the Computational Mechanics Laboratory for Architecture. My name is Hiroki Kamiya.<br>
        I have a passion for dynamics and am interested in simulation technology and its applications in architecture and robotics.<br>
        I am also interested in workshop design and the dynamics of human gatherings.<br>
        My goal is to eliminate unreasonable deaths through technology and design.
        </p>
    </div>

    <div class="section slide-in">
        <h2>Architecture</h2>
        <p>My favorite works from individual and group projects during my undergraduate years</p>

        <div class="container">
            <div class="projects">
                <div class="project fade-in" data-project="gridhouse">
                    <h3>Collective Housing Project</h3>
                    <div class="media-container">
                        <img src="img/GridHouse.png" alt="GridHouse">
                    </div>
                    <p>University assignment. A proposal to remove building walls and floors and insert box-shaped wooden structures</p>
                </div>

                <div class="project fade-in" data-project="atuy">
                    <h3>Celestial Sphere Sauna</h3>
                    <div class="media-container">
                        <img src="img/ATUY.png" alt="ATUY">
                    </div>
                    <p>Created for a university competition.<br>
                    A celestial sphere-shaped sauna inspired by the worldview of Dimashq</p>
                </div>

                <div class="project fade-in" data-project="rabbit">
                    <h3>Deflection Bunny</h3>
                    <div class="media-container">
                            <img src="img/rabbit_trim.png" alt="BendingBunny">
                    </div>
                    <p>Exhibited at the university festival.<br>
                    Created a Stanford Bunny designed with algorithms using Grasshopper</p>
                </div>

                <div class="project fade-in" data-project="shiphouse">
                    <div class="project-type">Video Available</div>
                    <h3>Ship-shaped Shelter House</h3>
                    <div class="media-container">
                        <video 
                            muted 
                            autoplay 
                            loop 
                            preload="metadata"
                            poster="img/shiphouse.png">
                            <source src="videos/shiphouse_simulation.mp4" type="video/mp4">
                            <source src="videos/shiphouse_simulation.webm" type="video/webm">
                            <img src="img/shiphouse.png" alt="ShipHouse">
                        </video>
                        <div class="video-overlay">
                            <div class="play-icon">▶</div>
                        </div>
                    </div>
                    <p>Undergraduate graduation project<br>
                    Created with the concept of "a house that protects life and continues living regardless of any disaster"</p>
                </div>
            </div>
        </div>
    </div>

    <div class="section slide-in">
        <h2>Workshops</h2>
        <p>I have organized several workshops as part of class activities, university festivals, and laboratory activities.</p>

        <div class="container">
            <div class="projects">

                <div class="project fade-in" data-project="science-workshop">
                    <h3>Exciting Science Workshop</h3>
                    <div class="media-container">
                        <img src="img/HSW.png" alt="Workshop 2">
                    </div>
                    <p>Worked as a developer, organizer, and facilitator for workshops as part of a KAKENHI research project</p>
                </div>

                <div class="project fade-in" data-project="uwajima-workshop">
                    <h3>High School Students' Pre-Disaster Recovery Workshop</h3>
                    <div class="media-container">
                        <img src="img/Uwajima_A.png" alt="Uwajima Workshop">
                    </div>
                    <p>Joint workshop on pre-disaster recovery by students from urban engineering, social infrastructure, and architecture</p>
                </div>
            </div>
        </div>
    </div>

    <div class="section slide-in">
        <h2>Events</h2>
        <p>Organizing events related to classes and laboratory activities</p>

        <div class="container">
            <div class="projects">
                <div class="project fade-in" data-project="uwajima-event">
                    <h3>Shopping District Event Exhibition</h3>
                    <div class="media-container">
                        <img src="img/uwajimafes.png" alt="App 1">
                    </div>
                    <p>Exhibited our work with high school students at an event in Uwajima City</p>
                </div>

                <div class="project fade-in" data-project="lab-mayfes">
                    <div class="project-type">Video Available</div>
                    <h3>May Festival Exhibition Planning</h3>
                    <div class="media-container">
                        <video 
                            muted 
                            autoplay 
                            loop 
                            preload="metadata"
                            poster="img/mayfes2025.jpg">
                            <source src="videos/fluid_simulation.mp4" type="video/mp4">
                            <source src="videos/fluid_simulation.webm" type="video/webm">
                            <img src="img/slide.png" alt="Research 1">
                        </video>
                        <div class="video-overlay">
                            <div class="play-icon">▶</div>
                        </div>
                    </div>
                    <p>Organized the laboratory's first exhibition. Created with the theme of robot utilization in districts with narrow roads during normal times and disasters</p>
                </div>
            </div>
        </div>
    </div>

    <div class="section slide-in">
        <h2>Research</h2>
        <p>Research and development at university, graduate school, and other locations</p>

        <div class="container">
            <div class="projects">
                <div class="project fade-in" data-project="fluid-simulation">
                    <div class="project-type">Video Available</div>
                    <h3>Fluid × Sliding Rigid Body Simulation Research</h3>
                    <div class="media-container">
                        <video 
                            muted 
                            autoplay 
                            loop 
                            preload="metadata"
                            poster="img/slide.png">
                            <source src="videos/fluid_simulation.mp4" type="video/mp4">
                            <source src="videos/fluid_simulation.webm" type="video/webm">
                            <img src="img/slide.png" alt="Research 1">
                        </video>
                        <div class="video-overlay">
                            <div class="play-icon">▶</div>
                        </div>
                    </div>
                    <p>Conducting numerical simulation research on the interaction between incompressible fluids and rigid bodies (floating buildings)</p>
                </div>

                <div class="project fade-in" data-project="elastic_simulation">
                    <div class="project-type">Video Available</div>
                    <h3>Elastic Body Simulator Development</h3>
                    <div class="media-container">
                        <video 
                            muted 
                            autoplay 
                            loop 
                            preload="metadata"
                            poster="img/frame.png">
                            <source src="videos/elastic_simulation.mp4" type="video/mp4">
                            <source src="videos/elastic_simulation.webm" type="video/webm">
                            <img src="img/frame.png" alt="Research 2">
                        </video>
                        <div class="video-overlay">
                            <div class="play-icon">▶</div>
                        </div>
                    </div>
                    <p>Currently implementing elastic body MPS method in C++ with the goal of coupling with fluid particle methods.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="section skills slide-in">
        <h2>Skills</h2>
        <p>I have experience with Grasshopper, Python, C++, and Unity C# development.<br>
        My specialization in graduate school is simulation of incompressible fluids and elastic bodies and their applications in architecture.<br>
        Currently studying AI, robotics technology, and continuum mechanics.</p>

        <div class="skill-bar">
            <div class="skill-progress" data-width="50%">GrassHopper</div>
        </div>

        <div class="skill-bar">
            <div class="skill-progress" data-width="50%">Python</div>
        </div>

        <div class="skill-bar">
            <div class="skill-progress" data-width="45%">Unity/C#</div>
        </div>

        <div class="skill-bar">
            <div class="skill-progress" data-width="35%">ROS/C++</div>
        </div>
    </div>

    <div class="section contact slide-in">
        <h2>Contact</h2>
        <p>For work requests and questions, please contact me here</p>
        <p>Email: kmysqhrk0417[@]gmail.com</p>
        <p>GitHub: KMYsqHRK</p>
    </div>

    <footer>
        <p>© 2025 Kamiya Hiroki.</p>
    </footer>

    <!-- Modal -->
    <div id="projectModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close">&times;</span>
                <h2 id="modalTitle"></h2>
            </div>
            <div class="modal-body">
                <div id="modalMediaContainer" class="media-container" style="margin-bottom: 1rem;">
                    <img id="modalImage" class="modal-image" src="" alt="" style="display: none;">
                    <video id="modalVideo" class="modal-video" controls style="display: none;">
                        <source id="modalVideoSource" src="" type="video/mp4">
                    </video>
                </div>
                <div id="modalDescription"></div>
            </div>
        </div>
    </div>

    <script>
        // Language switching functions
        function switchToJapanese() {
            // In a real implementation, you would navigate to the Japanese version
            // or dynamically change the content
            alert('Switching to Japanese version... (In a real implementation, this would navigate to index.html)');
            window.location.href = 'index.html';
        }

        function switchToEnglish() {
            // Already on English version
            console.log('Already on English version');
        }

        // Project data (English version)
        const projectData = {
            'gridhouse': {
                title: 'Collective Housing Project',
                image: 'img/GridHouse.png',
                video: null,
                description: `
                    <h3>Project Overview</h3>
                    <p>A collective housing design project undertaken as a university architectural design assignment.</p>
                    
                    <h3>Design Concept</h3>
                    <p>Adopted an innovative structural system that removes parts of existing building walls and floors and inserts box-shaped wooden units. This proposes new forms of shared spaces and floor plans.</p>
                    
                    <h3>Technical Features</h3>
                    <ul>
                        <li>Flexible spatial composition through modular structure</li>
                        <li>Warm residential environment with wooden units</li>
                        <li>Balance between structural rationality and spatial richness</li>
                        <li>Potential for future renovation and expansion</li>
                    </ul>
                    
                    <h3>Evaluation & Results</h3>
                    <p>Proposed a way of living that breaks the conventional fixed concept of collective housing and can respond to changes in residents' lifestyles. Learned the importance of integrated thinking in structural and spatial design.</p>
                `
            },
            'atuy': {
                title: 'Celestial Sphere Sauna',
                image: 'img/ATUY.png',
                video: null,
                description: `
                    <h3>Project Overview</h3>
                    <p>Participated in a university competition and designed and created a celestial sphere-shaped sauna inspired by the mystical worldview of Dimashq.</p>
                    
                    <h3>Design Concept</h3>
                    <p>Using the ancient celestial sphere as a motif, I proposed a meditative space where people can experience the relationship between the universe and humanity. You can enjoy a rich starry sky.</p>
                    
                    <h3>Design Features</h3>
                    <ul>
                        <li>360-degree enclosure feeling through spherical structure</li>
                        <li>Full starry sky visible when looking up</li>
                        <li>Shape that can be created with mortar 3D printer</li>
                        <li>Spatial composition that promotes meditation and relaxation</li>
                    </ul>
                    
                    <h3>Creation Process</h3>
                    <p>Practiced shape determination, detailed drawing creation, and model making using 3D printer, all under the condition of using mortar 3D printer</p>
                    
                    <h3>Results & Learning</h3>
                    <p>Received high evaluation in the competition. Learned the importance of narrative in spatial design and how to work within technical constraints.</p>
                `
            },
            'rabbit': {
                title: 'Deflection Bunny',
                image: 'img/rabbit_trim.png',
                description: `
                    <h3>Project Overview</h3>
                    <p>An object using algorithmic design exhibited at the University of Tokyo's university festival (May Festival).</p>
                    
                    <h3>Technical Approach</h3>
                    <p>Used Grasshopper to structurally optimize the Stanford Bunny 3D model. Visualized the stress acting on each member, achieving both beauty and structural performance.</p>
                    
                    <h3>Creation Technology</h3>
                    <ul>
                        <li>Parametric design using Grasshopper</li>
                        <li>Stress distribution visualization algorithm</li>
                        <li>Structural analysis simulation</li>
                    </ul>
                    
                    <h3>Design Intent</h3>
                    <p>In line with the overall theme of "how to make how to make," I intended to create a process that facilitates construction from design algorithms.</p>
                    
                    <h3>Exhibition Response</h3>
                    <p>The exhibition at the university festival attracted attention from many visitors and was able to show the possibility of new expression in the fields of architecture and engineering.</p>
                `
            },
            'shiphouse': {
                title: 'Ship-shaped Shelter House',
                image: 'img/shiphouse.png',
                video: 'videos/shiphouse.mp4',
                description: `
                    <h3>Project Overview</h3>
                    <p>A housing design project tackled as an undergraduate graduation project, designing a house with ultimate resilience against disasters. The video explains the concept in more detail.</p>
                    
                    <h3>Design Concept</h3>
                    <p>With the theme "a house that protects life and continues living regardless of any disaster," I proposed an innovative housing system that applies ship technology. It responds to all disaster scenarios including earthquakes, tsunamis, floods, and fires.</p>
                    
                    <h3>Technical Features</h3>
                    <ul>
                        <li>Flotation function applying hull structure</li>
                        <li>Independent energy system (solar power)</li>
                        <li>Structural design using MPS method and finite element method one-way coupling</li>
                        <li>Water storage as ballast and its utilization system</li>
                    </ul>
                    
                    <h3>Disaster Response Functions</h3>
                    <p>Integrates multi-layered safety systems including seismic isolation structure during earthquakes, flotation function during tsunamis, fire prevention system during fires, and self-generation during power outages. It provides a comfortable living environment during normal times while functioning as a completely independent shelter during emergencies.</p>
                    
                    <h3>Social Significance</h3>
                    <p>Presented architectural solutions to modern challenges such as disaster intensification due to climate change and urban population concentration. Aimed to balance sustainable lifestyles with disaster resilience.</p>
                    
                    <h3>Evaluation & Results</h3>
                    <p>Was able to show the role of architecture in disaster prevention and mitigation, and the possibility of new housing through technology integration.</p>
                `
            },
            'science-workshop': {
                title: 'Exciting Science Workshop',
                image: 'img/HSW.png',
                video: null,
                description: `
                    <h3>Project Overview</h3>
                    <p>As part of a Grant-in-Aid for Scientific Research project, I was responsible for the development, operation, and facilitation of science education workshops for elementary and junior high school students.</p>
                    
                    <h3>Project Purpose</h3>
                    <p>The purpose is to increase children's interest in science and promote STEM education. We particularly emphasize "learning through experience," "developing creativity," and "improving scientific thinking skills."</p>
                    
                    <h3>Workshop Content</h3>
                    <ul>
                        <li>Digital manufacturing using Grasshopper for shape creation and laser cutter</li>
                    </ul>
                    
                    <h3>Educational Approach</h3>
                    <p>Starting from questions like "Why?" and "How come?", we experience the scientific process of forming hypotheses and verifying them through experiments. We cultivate the attitude of challenging without fear of failure and the ability to solve problems collaboratively.</p>
                    
                    <h3>Role as Facilitator</h3>
                    <p>I encouraged children to engage positively in manufacturing and actively created opportunities for them to experience technologies like laser cutters.</p>
                    
                    <h3>Results & Evaluation</h3>
                    <p>Participating children gave positive feedback saying "Manufacturing felt more familiar" and "I understood how shapes are created."</p>
                `
            },
            'uwajima-event': {
                title: 'Shopping District Event Exhibition',
                image: 'img/uwajimafes.png',
                video: null,
                description: `
                    <h3>Project Overview</h3>
                    <p>In Uwajima City, Ehime Prefecture, we created exhibition panels and games about pre-disaster recovery plans developed in workshops with high school students and exhibited them at a shopping district event (Date Castle Town).</p>
                    
                    <h3>What is Pre-disaster Recovery?</h3>
                    <p>Before a disaster occurs, we think together with local residents about how recovery should be and make plans in advance. We aim for rapid recovery after disasters and the realization of better community development.</p>
                    
                    <h3>Exhibition Features</h3>
                    <ul>
                        <li>Planning through collaboration with local high school students</li>
                        <li>Having local high school students communicate to local people to foster a sense of ownership</li>
                    </ul>
                    
                    <h3>Activity Content</h3>
                    <p>We exhibited booths with panels summarizing the results and exchanges from workshops conducted with high school students, and games using created 3D maps. We value the perspectives of young people who will bear the future of the region.</p>
                    
                    <h3>Contribution to the Community</h3>
                    <p>The results of the workshop are reflected in the regional disaster prevention plan and are being used in actual disaster countermeasures. It also contributes to improving high school students' attachment to the region and disaster prevention awareness.</p>
                    
                    <h3>Continuous Efforts</h3>
                    <p>Rather than a one-time event, we build continuous relationships and are involved in long-term community development.</p>
                `
            },
            'uwajima-workshop': {
                title: 'High School Students Pre-disaster Recovery Workshop',
                image: 'img/Uwajima_A.png',
                video: null,
                description: `
                    <h3>Project Overview</h3>
                    <p>In Uwajima City, Ehime Prefecture, a pre-disaster recovery workshop for high school students jointly conducted by students from urban engineering, social infrastructure, and architecture. We aim to improve regional disaster prevention capabilities in preparation for the Nankai Trough earthquake.</p>
                    
                    <h3>What is Pre-disaster Recovery?</h3>
                    <p>Before a disaster occurs, we think together with local residents about how recovery should be and make plans in advance. We aim for rapid recovery after disasters and the realization of better community development.</p>
                    
                    <h3>Workshop Features</h3>
                    <ul>
                        <li>Planning through collaboration with local high school students</li>
                        <li>On-site investigation and rediscovery of regional resources</li>
                        <li>Integration of knowledge from multiple fields (urban, social infrastructure, architecture)</li>
                    </ul>
                    
                    <h3>Activity Content</h3>
                    <p>Starting from investigation of regional history, culture, and industry, we practice a comprehensive process with high school students including disaster risk evaluation, evacuation plan consideration, and recovery vision formulation. We value the perspectives of young people who will bear the future of the region.</p>
                    
                    <h3>Interdisciplinary Approach</h3>
                    <p>Students from urban planning, infrastructure development, and architectural design collaborate to formulate comprehensive recovery plans. While utilizing their respective expertise, we seek optimal solutions for the entire region.</p>
                    
                    <h3>Contribution to the Community</h3>
                    <p>The results of the workshop are reflected in the regional disaster prevention plan and are being used in actual disaster countermeasures. It also contributes to improving high school students' attachment to the region and disaster prevention awareness.</p>
                    
                    <h3>Continuous Efforts</h3>
                    <p>Rather than a one-time event, we build continuous relationships and are involved in long-term community development. In 2025, we are planning workshops aimed at realizing exchange facilities in cooperation with the city hall.</p>
                `
            },
            'lab-mayfes': {
                title: 'May Festival Exhibition Planning',
                video: 'videos/mayfes2025.mp4',
                description: `
                    <h3>Exhibition Overview</h3>
                    <p>We proposed the introduction of robots that can be active in both normal times and disasters in districts with narrow roads.</p>
                    
                    <h3>Exhibition Significance</h3>
                    <p>While the use of robotics in infrastructure development is becoming a reality, its use in urban spaces is limited. 
                        The introduction of rescue robots that are active during disasters is also limited to specific cases.
                        We thought that if we could introduce robots that respond to both normal times and disasters instead of urban hard infrastructure that is difficult to update, we could contribute to creating cities that protect lives, so we made this proposal.</p>
                    
                    <h3>Exhibition Content</h3>
                    <ul>
                        <li>1/20 scale urban model</li>
                        <li>1/20 scale robot operated by smartphone</li>
                        <li>1/4 scale robot operated by game controller</li>
                        <li>Urban damage simulation targeting Machiya Station during disasters and multi-agent simulation of robots</li>
                        <li>Research content introduction panels</li>
                    </ul>
                    
                    <h3>Exhibition Results</h3>
                    <p>Many people visited and we received various comments about the exhibition content and research content.</p>
                    <p>In particular, through the robot operation experience, many people of all ages were interested in the possibilities of robotics in urban spaces.</p>
                `
            },
            'fluid-simulation': {
                title: 'Fluid × Sliding Rigid Body Simulation Research',
                video: 'videos/slide.mp4',
                description: `
                    <h3>Research Overview</h3>
                    <p>I am working on research to analyze the interaction between incompressible fluids and sliding rigid bodies through numerical simulation. You can see actual simulation results in the video.</p>
                    
                    <h3>Research Significance</h3>
                    <p>By combining the MPS method with polygon rigid body models, we analyze complex interactions between fluids and structures including uplift forces that were difficult with conventional methods in detail, achieving improved accuracy in predicting tsunami damage to buildings.
                        This is expected to contribute to more effective tsunami evacuation planning and building design guideline formulation.</p>
                    
                    <h3>Technical Approach</h3>
                    <ul>
                        <li>High-speed processing through GPU parallel computing</li>
                        <li>Two-way calculation of interaction between rigid bodies receiving uplift and horizontal forces and fluids</li>
                    </ul>
                    
                    <h3>Research Results</h3>
                    <p>We were able to reproduce to some extent the sliding of objects receiving uplift forces, which was previously difficult to reproduce.</p>
                    
                    <h3>Application Possibilities</h3>
                    <p>In urban-scale disaster simulation, it may become possible to evaluate the impact of building sliding on surrounding buildings and the environment.</p>
                    
                    <h3>Future Research Plans</h3>
                    <p>We are proceeding with detailed comparative verification with experimental data and aim to achieve practical-level accuracy.</p>
                `
            },
            'elastic_simulation': {
                title: 'Elastic Body Simulator Development',
                video: 'videos/frame.mp4',
                description: `
                    <h3>Overview</h3>
                    <p>The video introduces the execution results of elastic body simulation.</p>
                    
                    <h3>Research Background</h3>
                    <p>To more appropriately express the interaction between buildings and fluids, coupling with elastic body behavior is necessary.
                        We believe that by treating fluids and elastic bodies with a consistent method, we can make calculations more efficient, so we created an MPS elastic body simulation based on elastic body theory.</p>
                    
                    <h3>Technical Approach</h3>
                    <ul>
                        <li>Elastic body simulation using MPS method</li>
                        <li>CPU parallelization capable</li>
                    </ul>
                    
                    <h3>Research Results</h3>
                    <p>For two-dimensional objects, it became possible to simulate the dynamic behavior of elastic bodies at high speed.</p>
                    
                    <h3>Future Prospects</h3>
                    <p>Enable representation of the real world through 3D implementation and coupling with fluids.</p>
                `
            }
        };

        // DOM elements
        const modal = document.getElementById('projectModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalImage = document.getElementById('modalImage');
        const modalVideo = document.getElementById('modalVideo');
        const modalVideoSource = document.getElementById('modalVideoSource');
        const modalDescription = document.getElementById('modalDescription');
        const closeBtn = document.getElementsByClassName('close')[0];
        const projects = document.querySelectorAll('.project[data-project]');

        // Project click events
        projects.forEach(project => {
            project.addEventListener('click', function() {
                const projectId = this.getAttribute('data-project');
                const data = projectData[projectId];

                if (data) {
                    modalTitle.textContent = data.title;
                    modalDescription.innerHTML = data.description;

                    // Check if video exists
                    if (data.video) {
                        modalImage.style.display = 'none';
                        modalVideo.style.display = 'block';
                        modalVideoSource.src = data.video;
                        modalVideo.load();
                    } else {
                        modalVideo.style.display = 'none';
                        modalImage.style.display = 'block';
                        modalImage.src = data.image;
                        modalImage.alt = data.title;
                    }

                    modal.style.display = 'block';
                    document.body.style.overflow = 'hidden';
                }
            });
        });

        // Close modal
        function closeModal() {
            modal.style.display = 'none';
            document.body.style.overflow = '';

            if (modalVideo.style.display !== 'none') {
                modalVideo.pause();
                modalVideo.currentTime = 0;
            }
        }

        closeBtn.addEventListener('click', closeModal);

        modal.addEventListener('click', function(event) {
            if (event.target === modal) {
                closeModal();
            }
        });

        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape' && modal.style.display === 'block') {
                closeModal();
            }
        });

        // Video autoplay control
        document.addEventListener('DOMContentLoaded', function() {
            const videos = document.querySelectorAll('video');

            videos.forEach(video => {
                video.addEventListener('loadeddata', function() {
                    try {
                        this.play().catch(function(error) {
                            console.log('Autoplay restricted:', error);
                        });
                    } catch (error) {
                        console.log('Video autoplay failed:', error);
                    }
                });

                video.addEventListener('error', function() {
                    const fallbackImg = this.querySelector('img');
                    if (fallbackImg) {
                        this.style.display = 'none';
                        fallbackImg.style.display = 'block';
                    }
                });
            });
        });

        // Animation Intersection Observer
        document.addEventListener('DOMContentLoaded', function() {
            const fadeElements = document.querySelectorAll('.fade-in');
            const slideElements = document.querySelectorAll('.slide-in');
            const skillBars = document.querySelectorAll('.skill-progress');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        if (entry.target.classList.contains('skill-progress')) {
                            const targetWidth = entry.target.getAttribute('data-width');
                            setTimeout(() => {
                                entry.target.style.width = targetWidth;
                            }, 300);
                        }
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });

            fadeElements.forEach(el => observer.observe(el));
            slideElements.forEach(el => observer.observe(el));
            skillBars.forEach(el => observer.observe(el));
        });

        // Touch event improvements (mobile support)
        let touchStartY = 0;
        let touchEndY = 0;

        modal.addEventListener('touchstart', function(event) {
            touchStartY = event.changedTouches[0].screenY;
        });

        modal.addEventListener('touchend', function(event) {
            touchEndY = event.changedTouches[0].screenY;
            if (touchStartY < touchEndY - 100) {
                closeModal();
            }
        });
    </script>
</body>
</html>